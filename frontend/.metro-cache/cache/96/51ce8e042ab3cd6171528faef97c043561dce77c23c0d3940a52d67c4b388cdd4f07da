{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":57,"index":57}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/AppState","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"JfCM6WRyn2619+pzBJhEHd1+SSw=","exportNames":["*"],"imports":1}},{"name":"./OverlayBridge","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":125},"end":{"line":3,"column":48,"index":173}}],"key":"ByK1A+Q4RT8u5D5o2VBL8PU4KUg=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _s = $RefreshSig$();\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  exports.useOverlay = useOverlay;\n  var _react = require(_dependencyMap[0], \"react\");\n  var _reactNativeWebDistExportsAppState = require(_dependencyMap[1], \"react-native-web/dist/exports/AppState\");\n  var AppState = _interopDefault(_reactNativeWebDistExportsAppState);\n  var _OverlayBridge = require(_dependencyMap[2], \"./OverlayBridge\");\n  function useOverlay() {\n    _s();\n    const [hasPermission, setHasPermission] = (0, _react.useState)(false);\n    const [isRunning, setIsRunning] = (0, _react.useState)(false);\n    const isAvailable = _OverlayBridge.overlayBridge.isAvailable();\n    (0, _react.useEffect)(() => {\n      if (!isAvailable) return;\n\n      // Check initial state\n      checkPermission();\n      checkRunningState();\n\n      // Re-check when app becomes active (user might have granted permission)\n      const subscription = AppState.default.addEventListener('change', handleAppStateChange);\n      return () => {\n        subscription.remove();\n      };\n    }, [isAvailable]);\n    const handleAppStateChange = async nextState => {\n      if (nextState === 'active') {\n        await checkPermission();\n        await checkRunningState();\n      }\n    };\n    const checkPermission = (0, _react.useCallback)(async () => {\n      if (!isAvailable) return false;\n      const permitted = await _OverlayBridge.overlayBridge.checkPermission();\n      setHasPermission(permitted);\n      return permitted;\n    }, [isAvailable]);\n    const checkRunningState = (0, _react.useCallback)(async () => {\n      if (!isAvailable) return;\n      const running = await _OverlayBridge.overlayBridge.isRunning();\n      setIsRunning(running);\n    }, [isAvailable]);\n    const requestPermission = (0, _react.useCallback)(async () => {\n      if (!isAvailable) return false;\n      const result = await _OverlayBridge.overlayBridge.requestPermission();\n      // User was redirected to settings, they need to come back\n      // We'll re-check when app becomes active\n      return result;\n    }, [isAvailable]);\n    const startOverlay = (0, _react.useCallback)(async () => {\n      if (!isAvailable) return false;\n      const success = await _OverlayBridge.overlayBridge.start();\n      if (success) {\n        setIsRunning(true);\n      }\n      return success;\n    }, [isAvailable]);\n    const stopOverlay = (0, _react.useCallback)(async () => {\n      if (!isAvailable) return false;\n      const success = await _OverlayBridge.overlayBridge.stop();\n      if (success) {\n        setIsRunning(false);\n      }\n      return success;\n    }, [isAvailable]);\n    const updateSpeed = (0, _react.useCallback)(speed => {\n      _OverlayBridge.overlayBridge.updateSpeed(speed);\n    }, []);\n    const updateNextCamera = (0, _react.useCallback)((distance, type) => {\n      _OverlayBridge.overlayBridge.updateNextCamera(distance, type);\n    }, []);\n    const setAlertsEnabled = (0, _react.useCallback)(enabled => {\n      _OverlayBridge.overlayBridge.setAlertsEnabled(enabled);\n    }, []);\n    const setReportCallback = (0, _react.useCallback)(callback => {\n      _OverlayBridge.overlayBridge.setReportCallback(callback);\n    }, []);\n    return {\n      isAvailable,\n      hasPermission,\n      isRunning,\n      checkPermission,\n      requestPermission,\n      startOverlay,\n      stopOverlay,\n      updateSpeed,\n      updateNextCamera,\n      setAlertsEnabled,\n      setReportCallback\n    };\n  }\n  _s(useOverlay, \"tWipZEk69649Mn2nQ9sQ4SMkrCA=\");\n});","lineCount":103,"map":[[13,2,19,0,"exports"],[13,9,19,0],[13,10,19,0,"useOverlay"],[13,20,19,0],[13,23,19,0,"useOverlay"],[13,33,19,0],[14,2,1,0],[14,6,1,0,"_react"],[14,12,1,0],[14,15,1,0,"require"],[14,22,1,0],[14,23,1,0,"_dependencyMap"],[14,37,1,0],[15,2,1,57],[15,6,1,57,"_reactNativeWebDistExportsAppState"],[15,40,1,57],[15,43,1,57,"require"],[15,50,1,57],[15,51,1,57,"_dependencyMap"],[15,65,1,57],[16,2,1,57],[16,6,1,57,"AppState"],[16,14,1,57],[16,17,1,57,"_interopDefault"],[16,32,1,57],[16,33,1,57,"_reactNativeWebDistExportsAppState"],[16,67,1,57],[17,2,3,0],[17,6,3,0,"_OverlayBridge"],[17,20,3,0],[17,23,3,0,"require"],[17,30,3,0],[17,31,3,0,"_dependencyMap"],[17,45,3,0],[18,2,19,7],[18,11,19,16,"useOverlay"],[18,21,19,26,"useOverlay"],[18,22,19,26],[18,24,19,47],[19,4,19,47,"_s"],[19,6,19,47],[20,4,20,2],[20,10,20,8],[20,11,20,9,"hasPermission"],[20,24,20,22],[20,26,20,24,"setHasPermission"],[20,42,20,40],[20,43,20,41],[20,46,20,44],[20,50,20,44,"useState"],[20,56,20,52],[20,57,20,52,"useState"],[20,65,20,52],[20,67,20,53],[20,72,20,58],[20,73,20,59],[21,4,21,2],[21,10,21,8],[21,11,21,9,"isRunning"],[21,20,21,18],[21,22,21,20,"setIsRunning"],[21,34,21,32],[21,35,21,33],[21,38,21,36],[21,42,21,36,"useState"],[21,48,21,44],[21,49,21,44,"useState"],[21,57,21,44],[21,59,21,45],[21,64,21,50],[21,65,21,51],[22,4,22,2],[22,10,22,8,"isAvailable"],[22,21,22,19],[22,24,22,22,"overlayBridge"],[22,38,22,35],[22,39,22,35,"overlayBridge"],[22,52,22,35],[22,53,22,36,"isAvailable"],[22,64,22,47],[22,65,22,48],[22,66,22,49],[23,4,24,2],[23,8,24,2,"useEffect"],[23,14,24,11],[23,15,24,11,"useEffect"],[23,24,24,11],[23,26,24,12],[23,32,24,18],[24,6,25,4],[24,10,25,8],[24,11,25,9,"isAvailable"],[24,22,25,20],[24,24,25,22],[26,6,27,4],[27,6,28,4,"checkPermission"],[27,21,28,19],[27,22,28,20],[27,23,28,21],[28,6,29,4,"checkRunningState"],[28,23,29,21],[28,24,29,22],[28,25,29,23],[30,6,31,4],[31,6,32,4],[31,12,32,10,"subscription"],[31,24,32,22],[31,27,32,25,"AppState"],[31,35,32,33],[31,36,32,33,"default"],[31,43,32,33],[31,44,32,34,"addEventListener"],[31,60,32,50],[31,61,32,51],[31,69,32,59],[31,71,32,61,"handleAppStateChange"],[31,91,32,81],[31,92,32,82],[32,6,34,4],[32,13,34,11],[32,19,34,17],[33,8,35,6,"subscription"],[33,20,35,18],[33,21,35,19,"remove"],[33,27,35,25],[33,28,35,26],[33,29,35,27],[34,6,36,4],[34,7,36,5],[35,4,37,2],[35,5,37,3],[35,7,37,5],[35,8,37,6,"isAvailable"],[35,19,37,17],[35,20,37,18],[35,21,37,19],[36,4,39,2],[36,10,39,8,"handleAppStateChange"],[36,30,39,28],[36,33,39,31],[36,39,39,38,"nextState"],[36,48,39,63],[36,52,39,68],[37,6,40,4],[37,10,40,8,"nextState"],[37,19,40,17],[37,24,40,22],[37,32,40,30],[37,34,40,32],[38,8,41,6],[38,14,41,12,"checkPermission"],[38,29,41,27],[38,30,41,28],[38,31,41,29],[39,8,42,6],[39,14,42,12,"checkRunningState"],[39,31,42,29],[39,32,42,30],[39,33,42,31],[40,6,43,4],[41,4,44,2],[41,5,44,3],[42,4,46,2],[42,10,46,8,"checkPermission"],[42,25,46,23],[42,28,46,26],[42,32,46,26,"useCallback"],[42,38,46,37],[42,39,46,37,"useCallback"],[42,50,46,37],[42,52,46,38],[42,64,46,68],[43,6,47,4],[43,10,47,8],[43,11,47,9,"isAvailable"],[43,22,47,20],[43,24,47,22],[43,31,47,29],[43,36,47,34],[44,6,48,4],[44,12,48,10,"permitted"],[44,21,48,19],[44,24,48,22],[44,30,48,28,"overlayBridge"],[44,44,48,41],[44,45,48,41,"overlayBridge"],[44,58,48,41],[44,59,48,42,"checkPermission"],[44,74,48,57],[44,75,48,58],[44,76,48,59],[45,6,49,4,"setHasPermission"],[45,22,49,20],[45,23,49,21,"permitted"],[45,32,49,30],[45,33,49,31],[46,6,50,4],[46,13,50,11,"permitted"],[46,22,50,20],[47,4,51,2],[47,5,51,3],[47,7,51,5],[47,8,51,6,"isAvailable"],[47,19,51,17],[47,20,51,18],[47,21,51,19],[48,4,53,2],[48,10,53,8,"checkRunningState"],[48,27,53,25],[48,30,53,28],[48,34,53,28,"useCallback"],[48,40,53,39],[48,41,53,39,"useCallback"],[48,52,53,39],[48,54,53,40],[48,66,53,52],[49,6,54,4],[49,10,54,8],[49,11,54,9,"isAvailable"],[49,22,54,20],[49,24,54,22],[50,6,55,4],[50,12,55,10,"running"],[50,19,55,17],[50,22,55,20],[50,28,55,26,"overlayBridge"],[50,42,55,39],[50,43,55,39,"overlayBridge"],[50,56,55,39],[50,57,55,40,"isRunning"],[50,66,55,49],[50,67,55,50],[50,68,55,51],[51,6,56,4,"setIsRunning"],[51,18,56,16],[51,19,56,17,"running"],[51,26,56,24],[51,27,56,25],[52,4,57,2],[52,5,57,3],[52,7,57,5],[52,8,57,6,"isAvailable"],[52,19,57,17],[52,20,57,18],[52,21,57,19],[53,4,59,2],[53,10,59,8,"requestPermission"],[53,27,59,25],[53,30,59,28],[53,34,59,28,"useCallback"],[53,40,59,39],[53,41,59,39,"useCallback"],[53,52,59,39],[53,54,59,40],[53,66,59,70],[54,6,60,4],[54,10,60,8],[54,11,60,9,"isAvailable"],[54,22,60,20],[54,24,60,22],[54,31,60,29],[54,36,60,34],[55,6,61,4],[55,12,61,10,"result"],[55,18,61,16],[55,21,61,19],[55,27,61,25,"overlayBridge"],[55,41,61,38],[55,42,61,38,"overlayBridge"],[55,55,61,38],[55,56,61,39,"requestPermission"],[55,73,61,56],[55,74,61,57],[55,75,61,58],[56,6,62,4],[57,6,63,4],[58,6,64,4],[58,13,64,11,"result"],[58,19,64,17],[59,4,65,2],[59,5,65,3],[59,7,65,5],[59,8,65,6,"isAvailable"],[59,19,65,17],[59,20,65,18],[59,21,65,19],[60,4,67,2],[60,10,67,8,"startOverlay"],[60,22,67,20],[60,25,67,23],[60,29,67,23,"useCallback"],[60,35,67,34],[60,36,67,34,"useCallback"],[60,47,67,34],[60,49,67,35],[60,61,67,65],[61,6,68,4],[61,10,68,8],[61,11,68,9,"isAvailable"],[61,22,68,20],[61,24,68,22],[61,31,68,29],[61,36,68,34],[62,6,69,4],[62,12,69,10,"success"],[62,19,69,17],[62,22,69,20],[62,28,69,26,"overlayBridge"],[62,42,69,39],[62,43,69,39,"overlayBridge"],[62,56,69,39],[62,57,69,40,"start"],[62,62,69,45],[62,63,69,46],[62,64,69,47],[63,6,70,4],[63,10,70,8,"success"],[63,17,70,15],[63,19,70,17],[64,8,71,6,"setIsRunning"],[64,20,71,18],[64,21,71,19],[64,25,71,23],[64,26,71,24],[65,6,72,4],[66,6,73,4],[66,13,73,11,"success"],[66,20,73,18],[67,4,74,2],[67,5,74,3],[67,7,74,5],[67,8,74,6,"isAvailable"],[67,19,74,17],[67,20,74,18],[67,21,74,19],[68,4,76,2],[68,10,76,8,"stopOverlay"],[68,21,76,19],[68,24,76,22],[68,28,76,22,"useCallback"],[68,34,76,33],[68,35,76,33,"useCallback"],[68,46,76,33],[68,48,76,34],[68,60,76,64],[69,6,77,4],[69,10,77,8],[69,11,77,9,"isAvailable"],[69,22,77,20],[69,24,77,22],[69,31,77,29],[69,36,77,34],[70,6,78,4],[70,12,78,10,"success"],[70,19,78,17],[70,22,78,20],[70,28,78,26,"overlayBridge"],[70,42,78,39],[70,43,78,39,"overlayBridge"],[70,56,78,39],[70,57,78,40,"stop"],[70,61,78,44],[70,62,78,45],[70,63,78,46],[71,6,79,4],[71,10,79,8,"success"],[71,17,79,15],[71,19,79,17],[72,8,80,6,"setIsRunning"],[72,20,80,18],[72,21,80,19],[72,26,80,24],[72,27,80,25],[73,6,81,4],[74,6,82,4],[74,13,82,11,"success"],[74,20,82,18],[75,4,83,2],[75,5,83,3],[75,7,83,5],[75,8,83,6,"isAvailable"],[75,19,83,17],[75,20,83,18],[75,21,83,19],[76,4,85,2],[76,10,85,8,"updateSpeed"],[76,21,85,19],[76,24,85,22],[76,28,85,22,"useCallback"],[76,34,85,33],[76,35,85,33,"useCallback"],[76,46,85,33],[76,48,85,35,"speed"],[76,53,85,48],[76,57,85,53],[77,6,86,4,"overlayBridge"],[77,20,86,17],[77,21,86,17,"overlayBridge"],[77,34,86,17],[77,35,86,18,"updateSpeed"],[77,46,86,29],[77,47,86,30,"speed"],[77,52,86,35],[77,53,86,36],[78,4,87,2],[78,5,87,3],[78,7,87,5],[78,9,87,7],[78,10,87,8],[79,4,89,2],[79,10,89,8,"updateNextCamera"],[79,26,89,24],[79,29,89,27],[79,33,89,27,"useCallback"],[79,39,89,38],[79,40,89,38,"useCallback"],[79,51,89,38],[79,53,89,39],[79,54,89,40,"distance"],[79,62,89,56],[79,64,89,58,"type"],[79,68,89,70],[79,73,89,75],[80,6,90,4,"overlayBridge"],[80,20,90,17],[80,21,90,17,"overlayBridge"],[80,34,90,17],[80,35,90,18,"updateNextCamera"],[80,51,90,34],[80,52,90,35,"distance"],[80,60,90,43],[80,62,90,45,"type"],[80,66,90,49],[80,67,90,50],[81,4,91,2],[81,5,91,3],[81,7,91,5],[81,9,91,7],[81,10,91,8],[82,4,93,2],[82,10,93,8,"setAlertsEnabled"],[82,26,93,24],[82,29,93,27],[82,33,93,27,"useCallback"],[82,39,93,38],[82,40,93,38,"useCallback"],[82,51,93,38],[82,53,93,40,"enabled"],[82,60,93,56],[82,64,93,61],[83,6,94,4,"overlayBridge"],[83,20,94,17],[83,21,94,17,"overlayBridge"],[83,34,94,17],[83,35,94,18,"setAlertsEnabled"],[83,51,94,34],[83,52,94,35,"enabled"],[83,59,94,42],[83,60,94,43],[84,4,95,2],[84,5,95,3],[84,7,95,5],[84,9,95,7],[84,10,95,8],[85,4,97,2],[85,10,97,8,"setReportCallback"],[85,27,97,25],[85,30,97,28],[85,34,97,28,"useCallback"],[85,40,97,39],[85,41,97,39,"useCallback"],[85,52,97,39],[85,54,97,41,"callback"],[85,62,97,73],[85,66,97,78],[86,6,98,4,"overlayBridge"],[86,20,98,17],[86,21,98,17,"overlayBridge"],[86,34,98,17],[86,35,98,18,"setReportCallback"],[86,52,98,35],[86,53,98,36,"callback"],[86,61,98,44],[86,62,98,45],[87,4,99,2],[87,5,99,3],[87,7,99,5],[87,9,99,7],[87,10,99,8],[88,4,101,2],[88,11,101,9],[89,6,102,4,"isAvailable"],[89,17,102,15],[90,6,103,4,"hasPermission"],[90,19,103,17],[91,6,104,4,"isRunning"],[91,15,104,13],[92,6,105,4,"checkPermission"],[92,21,105,19],[93,6,106,4,"requestPermission"],[93,23,106,21],[94,6,107,4,"startOverlay"],[94,18,107,16],[95,6,108,4,"stopOverlay"],[95,17,108,15],[96,6,109,4,"updateSpeed"],[96,17,109,15],[97,6,110,4,"updateNextCamera"],[97,22,110,20],[98,6,111,4,"setAlertsEnabled"],[98,22,111,20],[99,6,112,4,"setReportCallback"],[100,4,113,2],[100,5,113,3],[101,2,114,0],[102,2,114,1,"_s"],[102,4,114,1],[102,5,19,16,"useOverlay"],[102,15,19,26],[103,0,19,26],[103,3]],"functionMap":{"names":["<global>","useOverlay","useEffect$argument_0","<anonymous>","handleAppStateChange","checkPermission","checkRunningState","requestPermission","startOverlay","stopOverlay","updateSpeed","updateNextCamera","setAlertsEnabled","setReportCallback"],"mappings":"AAA;OCkB;YCK;WCU;KDE;GDC;+BGE;GHK;sCIE;GJK;wCKE;GLI;wCME;GNM;mCOE;GPO;kCQE;GRO;kCSE;GTE;uCUE;GVE;uCWE;GXE;wCYE;GZE;CDe"},"hasCjsExports":false},"type":"js/module"}]}
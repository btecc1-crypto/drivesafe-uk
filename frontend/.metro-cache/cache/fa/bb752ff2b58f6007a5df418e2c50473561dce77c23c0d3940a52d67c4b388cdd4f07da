{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":57,"index":57}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/AppState","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"JfCM6WRyn2619+pzBJhEHd1+SSw=","exportNames":["*"],"imports":1}},{"name":"./OverlayBridge","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":125},"end":{"line":3,"column":48,"index":173}}],"key":"ByK1A+Q4RT8u5D5o2VBL8PU4KUg=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  exports.useOverlay = useOverlay;\n  var _react = require(_dependencyMap[0], \"react\");\n  var _reactNativeWebDistExportsAppState = require(_dependencyMap[1], \"react-native-web/dist/exports/AppState\");\n  var AppState = _interopDefault(_reactNativeWebDistExportsAppState);\n  var _OverlayBridge = require(_dependencyMap[2], \"./OverlayBridge\");\n  function useOverlay() {\n    const [hasPermission, setHasPermission] = (0, _react.useState)(false);\n    const [isRunning, setIsRunning] = (0, _react.useState)(false);\n    const isAvailable = _OverlayBridge.overlayBridge.isAvailable();\n    (0, _react.useEffect)(() => {\n      if (!isAvailable) return;\n\n      // Check initial state\n      checkPermission();\n      checkRunningState();\n\n      // Re-check when app becomes active (user might have granted permission)\n      const subscription = AppState.default.addEventListener('change', handleAppStateChange);\n      return () => {\n        subscription.remove();\n      };\n    }, [isAvailable]);\n    const handleAppStateChange = async nextState => {\n      if (nextState === 'active') {\n        await checkPermission();\n        await checkRunningState();\n      }\n    };\n    const checkPermission = (0, _react.useCallback)(async () => {\n      if (!isAvailable) return false;\n      const permitted = await _OverlayBridge.overlayBridge.checkPermission();\n      setHasPermission(permitted);\n      return permitted;\n    }, [isAvailable]);\n    const checkRunningState = (0, _react.useCallback)(async () => {\n      if (!isAvailable) return;\n      const running = await _OverlayBridge.overlayBridge.isRunning();\n      setIsRunning(running);\n    }, [isAvailable]);\n    const requestPermission = (0, _react.useCallback)(async () => {\n      if (!isAvailable) return false;\n      const result = await _OverlayBridge.overlayBridge.requestPermission();\n      // User was redirected to settings, they need to come back\n      // We'll re-check when app becomes active\n      return result;\n    }, [isAvailable]);\n    const startOverlay = (0, _react.useCallback)(async () => {\n      if (!isAvailable) return false;\n      const success = await _OverlayBridge.overlayBridge.start();\n      if (success) {\n        setIsRunning(true);\n      }\n      return success;\n    }, [isAvailable]);\n    const stopOverlay = (0, _react.useCallback)(async () => {\n      if (!isAvailable) return false;\n      const success = await _OverlayBridge.overlayBridge.stop();\n      if (success) {\n        setIsRunning(false);\n      }\n      return success;\n    }, [isAvailable]);\n    const updateSpeed = (0, _react.useCallback)(speed => {\n      _OverlayBridge.overlayBridge.updateSpeed(speed);\n    }, []);\n    const updateNextCamera = (0, _react.useCallback)((distance, type) => {\n      _OverlayBridge.overlayBridge.updateNextCamera(distance, type);\n    }, []);\n    const setAlertsEnabled = (0, _react.useCallback)(enabled => {\n      _OverlayBridge.overlayBridge.setAlertsEnabled(enabled);\n    }, []);\n    const setReportCallback = (0, _react.useCallback)(callback => {\n      _OverlayBridge.overlayBridge.setReportCallback(callback);\n    }, []);\n    return {\n      isAvailable,\n      hasPermission,\n      isRunning,\n      checkPermission,\n      requestPermission,\n      startOverlay,\n      stopOverlay,\n      updateSpeed,\n      updateNextCamera,\n      setAlertsEnabled,\n      setReportCallback\n    };\n  }\n});","lineCount":100,"map":[[12,2,19,0,"exports"],[12,9,19,0],[12,10,19,0,"useOverlay"],[12,20,19,0],[12,23,19,0,"useOverlay"],[12,33,19,0],[13,2,1,0],[13,6,1,0,"_react"],[13,12,1,0],[13,15,1,0,"require"],[13,22,1,0],[13,23,1,0,"_dependencyMap"],[13,37,1,0],[14,2,1,57],[14,6,1,57,"_reactNativeWebDistExportsAppState"],[14,40,1,57],[14,43,1,57,"require"],[14,50,1,57],[14,51,1,57,"_dependencyMap"],[14,65,1,57],[15,2,1,57],[15,6,1,57,"AppState"],[15,14,1,57],[15,17,1,57,"_interopDefault"],[15,32,1,57],[15,33,1,57,"_reactNativeWebDistExportsAppState"],[15,67,1,57],[16,2,3,0],[16,6,3,0,"_OverlayBridge"],[16,20,3,0],[16,23,3,0,"require"],[16,30,3,0],[16,31,3,0,"_dependencyMap"],[16,45,3,0],[17,2,19,7],[17,11,19,16,"useOverlay"],[17,21,19,26,"useOverlay"],[17,22,19,26],[17,24,19,47],[18,4,20,2],[18,10,20,8],[18,11,20,9,"hasPermission"],[18,24,20,22],[18,26,20,24,"setHasPermission"],[18,42,20,40],[18,43,20,41],[18,46,20,44],[18,50,20,44,"useState"],[18,56,20,52],[18,57,20,52,"useState"],[18,65,20,52],[18,67,20,53],[18,72,20,58],[18,73,20,59],[19,4,21,2],[19,10,21,8],[19,11,21,9,"isRunning"],[19,20,21,18],[19,22,21,20,"setIsRunning"],[19,34,21,32],[19,35,21,33],[19,38,21,36],[19,42,21,36,"useState"],[19,48,21,44],[19,49,21,44,"useState"],[19,57,21,44],[19,59,21,45],[19,64,21,50],[19,65,21,51],[20,4,22,2],[20,10,22,8,"isAvailable"],[20,21,22,19],[20,24,22,22,"overlayBridge"],[20,38,22,35],[20,39,22,35,"overlayBridge"],[20,52,22,35],[20,53,22,36,"isAvailable"],[20,64,22,47],[20,65,22,48],[20,66,22,49],[21,4,24,2],[21,8,24,2,"useEffect"],[21,14,24,11],[21,15,24,11,"useEffect"],[21,24,24,11],[21,26,24,12],[21,32,24,18],[22,6,25,4],[22,10,25,8],[22,11,25,9,"isAvailable"],[22,22,25,20],[22,24,25,22],[24,6,27,4],[25,6,28,4,"checkPermission"],[25,21,28,19],[25,22,28,20],[25,23,28,21],[26,6,29,4,"checkRunningState"],[26,23,29,21],[26,24,29,22],[26,25,29,23],[28,6,31,4],[29,6,32,4],[29,12,32,10,"subscription"],[29,24,32,22],[29,27,32,25,"AppState"],[29,35,32,33],[29,36,32,33,"default"],[29,43,32,33],[29,44,32,34,"addEventListener"],[29,60,32,50],[29,61,32,51],[29,69,32,59],[29,71,32,61,"handleAppStateChange"],[29,91,32,81],[29,92,32,82],[30,6,34,4],[30,13,34,11],[30,19,34,17],[31,8,35,6,"subscription"],[31,20,35,18],[31,21,35,19,"remove"],[31,27,35,25],[31,28,35,26],[31,29,35,27],[32,6,36,4],[32,7,36,5],[33,4,37,2],[33,5,37,3],[33,7,37,5],[33,8,37,6,"isAvailable"],[33,19,37,17],[33,20,37,18],[33,21,37,19],[34,4,39,2],[34,10,39,8,"handleAppStateChange"],[34,30,39,28],[34,33,39,31],[34,39,39,38,"nextState"],[34,48,39,63],[34,52,39,68],[35,6,40,4],[35,10,40,8,"nextState"],[35,19,40,17],[35,24,40,22],[35,32,40,30],[35,34,40,32],[36,8,41,6],[36,14,41,12,"checkPermission"],[36,29,41,27],[36,30,41,28],[36,31,41,29],[37,8,42,6],[37,14,42,12,"checkRunningState"],[37,31,42,29],[37,32,42,30],[37,33,42,31],[38,6,43,4],[39,4,44,2],[39,5,44,3],[40,4,46,2],[40,10,46,8,"checkPermission"],[40,25,46,23],[40,28,46,26],[40,32,46,26,"useCallback"],[40,38,46,37],[40,39,46,37,"useCallback"],[40,50,46,37],[40,52,46,38],[40,64,46,68],[41,6,47,4],[41,10,47,8],[41,11,47,9,"isAvailable"],[41,22,47,20],[41,24,47,22],[41,31,47,29],[41,36,47,34],[42,6,48,4],[42,12,48,10,"permitted"],[42,21,48,19],[42,24,48,22],[42,30,48,28,"overlayBridge"],[42,44,48,41],[42,45,48,41,"overlayBridge"],[42,58,48,41],[42,59,48,42,"checkPermission"],[42,74,48,57],[42,75,48,58],[42,76,48,59],[43,6,49,4,"setHasPermission"],[43,22,49,20],[43,23,49,21,"permitted"],[43,32,49,30],[43,33,49,31],[44,6,50,4],[44,13,50,11,"permitted"],[44,22,50,20],[45,4,51,2],[45,5,51,3],[45,7,51,5],[45,8,51,6,"isAvailable"],[45,19,51,17],[45,20,51,18],[45,21,51,19],[46,4,53,2],[46,10,53,8,"checkRunningState"],[46,27,53,25],[46,30,53,28],[46,34,53,28,"useCallback"],[46,40,53,39],[46,41,53,39,"useCallback"],[46,52,53,39],[46,54,53,40],[46,66,53,52],[47,6,54,4],[47,10,54,8],[47,11,54,9,"isAvailable"],[47,22,54,20],[47,24,54,22],[48,6,55,4],[48,12,55,10,"running"],[48,19,55,17],[48,22,55,20],[48,28,55,26,"overlayBridge"],[48,42,55,39],[48,43,55,39,"overlayBridge"],[48,56,55,39],[48,57,55,40,"isRunning"],[48,66,55,49],[48,67,55,50],[48,68,55,51],[49,6,56,4,"setIsRunning"],[49,18,56,16],[49,19,56,17,"running"],[49,26,56,24],[49,27,56,25],[50,4,57,2],[50,5,57,3],[50,7,57,5],[50,8,57,6,"isAvailable"],[50,19,57,17],[50,20,57,18],[50,21,57,19],[51,4,59,2],[51,10,59,8,"requestPermission"],[51,27,59,25],[51,30,59,28],[51,34,59,28,"useCallback"],[51,40,59,39],[51,41,59,39,"useCallback"],[51,52,59,39],[51,54,59,40],[51,66,59,70],[52,6,60,4],[52,10,60,8],[52,11,60,9,"isAvailable"],[52,22,60,20],[52,24,60,22],[52,31,60,29],[52,36,60,34],[53,6,61,4],[53,12,61,10,"result"],[53,18,61,16],[53,21,61,19],[53,27,61,25,"overlayBridge"],[53,41,61,38],[53,42,61,38,"overlayBridge"],[53,55,61,38],[53,56,61,39,"requestPermission"],[53,73,61,56],[53,74,61,57],[53,75,61,58],[54,6,62,4],[55,6,63,4],[56,6,64,4],[56,13,64,11,"result"],[56,19,64,17],[57,4,65,2],[57,5,65,3],[57,7,65,5],[57,8,65,6,"isAvailable"],[57,19,65,17],[57,20,65,18],[57,21,65,19],[58,4,67,2],[58,10,67,8,"startOverlay"],[58,22,67,20],[58,25,67,23],[58,29,67,23,"useCallback"],[58,35,67,34],[58,36,67,34,"useCallback"],[58,47,67,34],[58,49,67,35],[58,61,67,65],[59,6,68,4],[59,10,68,8],[59,11,68,9,"isAvailable"],[59,22,68,20],[59,24,68,22],[59,31,68,29],[59,36,68,34],[60,6,69,4],[60,12,69,10,"success"],[60,19,69,17],[60,22,69,20],[60,28,69,26,"overlayBridge"],[60,42,69,39],[60,43,69,39,"overlayBridge"],[60,56,69,39],[60,57,69,40,"start"],[60,62,69,45],[60,63,69,46],[60,64,69,47],[61,6,70,4],[61,10,70,8,"success"],[61,17,70,15],[61,19,70,17],[62,8,71,6,"setIsRunning"],[62,20,71,18],[62,21,71,19],[62,25,71,23],[62,26,71,24],[63,6,72,4],[64,6,73,4],[64,13,73,11,"success"],[64,20,73,18],[65,4,74,2],[65,5,74,3],[65,7,74,5],[65,8,74,6,"isAvailable"],[65,19,74,17],[65,20,74,18],[65,21,74,19],[66,4,76,2],[66,10,76,8,"stopOverlay"],[66,21,76,19],[66,24,76,22],[66,28,76,22,"useCallback"],[66,34,76,33],[66,35,76,33,"useCallback"],[66,46,76,33],[66,48,76,34],[66,60,76,64],[67,6,77,4],[67,10,77,8],[67,11,77,9,"isAvailable"],[67,22,77,20],[67,24,77,22],[67,31,77,29],[67,36,77,34],[68,6,78,4],[68,12,78,10,"success"],[68,19,78,17],[68,22,78,20],[68,28,78,26,"overlayBridge"],[68,42,78,39],[68,43,78,39,"overlayBridge"],[68,56,78,39],[68,57,78,40,"stop"],[68,61,78,44],[68,62,78,45],[68,63,78,46],[69,6,79,4],[69,10,79,8,"success"],[69,17,79,15],[69,19,79,17],[70,8,80,6,"setIsRunning"],[70,20,80,18],[70,21,80,19],[70,26,80,24],[70,27,80,25],[71,6,81,4],[72,6,82,4],[72,13,82,11,"success"],[72,20,82,18],[73,4,83,2],[73,5,83,3],[73,7,83,5],[73,8,83,6,"isAvailable"],[73,19,83,17],[73,20,83,18],[73,21,83,19],[74,4,85,2],[74,10,85,8,"updateSpeed"],[74,21,85,19],[74,24,85,22],[74,28,85,22,"useCallback"],[74,34,85,33],[74,35,85,33,"useCallback"],[74,46,85,33],[74,48,85,35,"speed"],[74,53,85,48],[74,57,85,53],[75,6,86,4,"overlayBridge"],[75,20,86,17],[75,21,86,17,"overlayBridge"],[75,34,86,17],[75,35,86,18,"updateSpeed"],[75,46,86,29],[75,47,86,30,"speed"],[75,52,86,35],[75,53,86,36],[76,4,87,2],[76,5,87,3],[76,7,87,5],[76,9,87,7],[76,10,87,8],[77,4,89,2],[77,10,89,8,"updateNextCamera"],[77,26,89,24],[77,29,89,27],[77,33,89,27,"useCallback"],[77,39,89,38],[77,40,89,38,"useCallback"],[77,51,89,38],[77,53,89,39],[77,54,89,40,"distance"],[77,62,89,56],[77,64,89,58,"type"],[77,68,89,70],[77,73,89,75],[78,6,90,4,"overlayBridge"],[78,20,90,17],[78,21,90,17,"overlayBridge"],[78,34,90,17],[78,35,90,18,"updateNextCamera"],[78,51,90,34],[78,52,90,35,"distance"],[78,60,90,43],[78,62,90,45,"type"],[78,66,90,49],[78,67,90,50],[79,4,91,2],[79,5,91,3],[79,7,91,5],[79,9,91,7],[79,10,91,8],[80,4,93,2],[80,10,93,8,"setAlertsEnabled"],[80,26,93,24],[80,29,93,27],[80,33,93,27,"useCallback"],[80,39,93,38],[80,40,93,38,"useCallback"],[80,51,93,38],[80,53,93,40,"enabled"],[80,60,93,56],[80,64,93,61],[81,6,94,4,"overlayBridge"],[81,20,94,17],[81,21,94,17,"overlayBridge"],[81,34,94,17],[81,35,94,18,"setAlertsEnabled"],[81,51,94,34],[81,52,94,35,"enabled"],[81,59,94,42],[81,60,94,43],[82,4,95,2],[82,5,95,3],[82,7,95,5],[82,9,95,7],[82,10,95,8],[83,4,97,2],[83,10,97,8,"setReportCallback"],[83,27,97,25],[83,30,97,28],[83,34,97,28,"useCallback"],[83,40,97,39],[83,41,97,39,"useCallback"],[83,52,97,39],[83,54,97,41,"callback"],[83,62,97,73],[83,66,97,78],[84,6,98,4,"overlayBridge"],[84,20,98,17],[84,21,98,17,"overlayBridge"],[84,34,98,17],[84,35,98,18,"setReportCallback"],[84,52,98,35],[84,53,98,36,"callback"],[84,61,98,44],[84,62,98,45],[85,4,99,2],[85,5,99,3],[85,7,99,5],[85,9,99,7],[85,10,99,8],[86,4,101,2],[86,11,101,9],[87,6,102,4,"isAvailable"],[87,17,102,15],[88,6,103,4,"hasPermission"],[88,19,103,17],[89,6,104,4,"isRunning"],[89,15,104,13],[90,6,105,4,"checkPermission"],[90,21,105,19],[91,6,106,4,"requestPermission"],[91,23,106,21],[92,6,107,4,"startOverlay"],[92,18,107,16],[93,6,108,4,"stopOverlay"],[93,17,108,15],[94,6,109,4,"updateSpeed"],[94,17,109,15],[95,6,110,4,"updateNextCamera"],[95,22,110,20],[96,6,111,4,"setAlertsEnabled"],[96,22,111,20],[97,6,112,4,"setReportCallback"],[98,4,113,2],[98,5,113,3],[99,2,114,0],[100,0,114,1],[100,3]],"functionMap":{"names":["<global>","useOverlay","useEffect$argument_0","<anonymous>","handleAppStateChange","checkPermission","checkRunningState","requestPermission","startOverlay","stopOverlay","updateSpeed","updateNextCamera","setAlertsEnabled","setReportCallback"],"mappings":"AAA;OCkB;YCK;WCU;KDE;GDC;+BGE;GHK;sCIE;GJK;wCKE;GLI;wCME;GNM;mCOE;GPO;kCQE;GRO;kCSE;GTE;uCUE;GVE;uCWE;GXE;wCYE;GZE;CDe"},"hasCjsExports":false},"type":"js/module"}]}